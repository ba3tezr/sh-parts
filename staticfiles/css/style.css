/* Ensure dropdown works above other elements on all pages */
.dropdown-menu { z-index: 2000; }

/* -------------------------------------------------- */
/* Core theme tokens                                  */
/* -------------------------------------------------- */
:root {
    --bg: #0f172a;
    --card-bg: #111c2f;
    --text: #f8fbff;
    --muted: #9aa6bf;
    --text-color: var(--text);
    --text-secondary: var(--muted);
    --border-color: rgba(148, 163, 184, 0.25);
    --primary: #3b82f6;
    --primary-600: #2563eb;
    --accent-color: #22d3ee;
    --success: #22c55e;
    --warning: #f97316;
    --danger: #ef4444;
    --info: #0ea5e9;
    --alert-success-fg: #4ade80;
    --alert-warning-fg: #fbbf24;
    --alert-info-fg: #bae6fd;
    --alert-danger-fg: #fecaca;
    --input-bg: rgba(255, 255, 255, 0.04);
    --input-border: rgba(148, 163, 184, 0.45);
    --input-ring: rgba(59, 130, 246, 0.35);
    --table-header-bg: rgba(148, 163, 184, 0.14);
    --table-row-hover: rgba(59, 130, 246, 0.12);
    --shadow-soft: 0 16px 40px rgba(15, 23, 42, 0.35);
    --shadow-card: 0 12px 32px rgba(15, 23, 42, 0.22);
}

html[data-theme='light'],
body[data-theme='light'] {
    --bg: #f8fafc;
    --card-bg: #ffffff;
    --text: #0f172a;
    --muted: #475569;
    --text-color: var(--text);
    --text-secondary: var(--muted);
    --border-color: rgba(15, 23, 42, 0.12);
    --primary: #2563eb;
    --primary-600: #1d4ed8;
    --accent-color: #0ea5e9;
    --success: #16a34a;
    --warning: #ea580c;
    --danger: #dc2626;
    --info: #0284c7;
    --alert-success-fg: #166534;
    --alert-warning-fg: #b45309;
    --alert-info-fg: #0c4a6e;
    --alert-danger-fg: #991b1b;
    --input-bg: #ffffff;
    --input-border: rgba(15, 23, 42, 0.15);
    --input-ring: rgba(37, 99, 235, 0.25);
    --table-header-bg: rgba(15, 23, 42, 0.06);
    --table-row-hover: rgba(37, 99, 235, 0.08);
    --shadow-soft: 0 20px 45px rgba(15, 23, 42, 0.08);
    --shadow-card: 0 12px 30px rgba(15, 23, 42, 0.08);
}

html[data-theme='day-blue'],
body[data-theme='day-blue'] {
    --bg: #e9f2ff;
    --card-bg: #ffffff;
    --text: #10203e;
    --muted: #536480;
    --text-color: var(--text);
    --text-secondary: var(--muted);
    --border-color: rgba(16, 32, 62, 0.16);
    --primary: #2563eb;
    --primary-600: #1e40af;
    --accent-color: #1b4ed4;
    --success: #15803d;
    --warning: #c2410c;
    --danger: #b91c1c;
    --info: #0369a1;
    --alert-success-fg: #14532d;
    --alert-warning-fg: #7c2d12;
    --alert-info-fg: #0b3a60;
    --alert-danger-fg: #7f1d1d;
    --input-bg: #ffffff;
    --input-border: rgba(16, 32, 62, 0.16);
    --input-ring: rgba(37, 99, 235, 0.25);
    --table-header-bg: rgba(30, 64, 175, 0.12);
    --table-row-hover: rgba(37, 99, 235, 0.12);
    --shadow-soft: 0 18px 40px rgba(15, 23, 42, 0.12);
    --shadow-card: 0 14px 34px rgba(30, 58, 138, 0.14);
}

html[data-theme='olive-sage'],
body[data-theme='olive-sage'] {
    --bg: #f5f5dc;
    --card-bg: #fafaf5;
    --text: #2d3319;
    --muted: #6b7c59;
    --text-color: var(--text);
    --text-secondary: var(--muted);
    --border-color: rgba(45, 51, 25, 0.16);
    --primary: #6b8e23;
    --primary-600: #556b2f;
    --accent-color: #9acd32;
    --success: #4d7c0f;
    --warning: #d97706;
    --danger: #b91c1c;
    --info: #0f766e;
    --alert-success-fg: #2f621b;
    --alert-warning-fg: #7a4410;
    --alert-info-fg: #0b3d3b;
    --alert-danger-fg: #7f1f1f;
    --input-bg: rgba(255, 255, 255, 0.92);
    --input-border: rgba(45, 51, 25, 0.2);
    --input-ring: rgba(107, 142, 35, 0.3);
    --table-header-bg: rgba(107, 142, 35, 0.12);
    --table-row-hover: rgba(107, 142, 35, 0.1);
    --shadow-soft: 0 20px 45px rgba(55, 72, 22, 0.12);
    --shadow-card: 0 12px 30px rgba(55, 72, 22, 0.12);
}

html[data-theme='camel-dune'],
body[data-theme='camel-dune'] {
    --bg: #f2e2c4;
    --card-bg: #fbf1dc;
    --text: #3f2f1c;
    --muted: #8c6f4a;
    --text-color: var(--text);
    --text-secondary: var(--muted);
    --border-color: rgba(114, 89, 58, 0.18);
    --primary: #c08457;
    --primary-600: #a5663d;
    --accent-color: #d8a368;
    --success: #3f7f4c;
    --warning: #c9772d;
    --danger: #b94a37;
    --info: #0f5f66;
    --alert-success-fg: #285634;
    --alert-warning-fg: #7a4616;
    --alert-info-fg: #1f4b4f;
    --alert-danger-fg: #7a2f25;
    --input-bg: rgba(255, 255, 255, 0.92);
    --input-border: rgba(128, 90, 50, 0.28);
    --input-ring: rgba(192, 132, 87, 0.32);
    --table-header-bg: rgba(192, 132, 87, 0.15);
    --table-row-hover: rgba(192, 132, 87, 0.12);
    --shadow-soft: 0 20px 46px rgba(161, 118, 74, 0.18);
    --shadow-card: 0 14px 34px rgba(161, 118, 74, 0.16);
}

/* -------------------------------------------------- */
/* Base elements                                      */
/* -------------------------------------------------- */
*,
*::before,
*::after { box-sizing: border-box; }

body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Cairo', system-ui, -apple-system, 'Segoe UI', Roboto, Ubuntu, Cantarell, Noto Sans, Arial, 'Apple Color Emoji', 'Segoe UI Emoji';
    min-height: 100vh;
    line-height: 1.55;
    transition: background-color 0.2s ease, color 0.2s ease;
}

h1, h2, h3, h4, h5, h6 {
    color: var(--text);
    font-weight: 600;
    line-height: 1.2;
    margin-bottom: 0.75rem;
}

p, small, span, label {
    color: var(--text-secondary);
}

a {
    color: var(--accent-color);
    text-decoration: none;
    transition: color 0.2s ease;
}

a:hover { color: var(--primary); }

hr { border-color: var(--border-color); opacity: 0.4; }

.content-area {
    padding: 32px;
    display: flex;
    flex-direction: column;
    min-height: calc(100vh - 80px);
}

@media (max-width: 991px) {
    .content-area { padding: 20px; }
}

/* -------------------------------------------------- */
/* Layout & navigation                                */
/* -------------------------------------------------- */
.sidebar {
    width: 280px;
    background: var(--card-bg);
    color: var(--text);
    position: fixed;
    top: 0;
    bottom: 0;
    padding: 28px 24px 80px 24px; /* مساحة للـ footer */
    box-shadow: var(--shadow-soft);
    overflow-y: auto;
    border-inline-end: 1px solid var(--border-color);
}

.sidebar .logo h2 {
    color: var(--accent-color);
    font-weight: 700;
    letter-spacing: 0.02em;
}

.main-content {
    margin-inline-start: 280px;
    min-height: 100vh;
    background: var(--bg);
}

.header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px 32px;
    border-bottom: 1px solid var(--border-color);
    background: var(--bg);
    position: sticky;
    top: 0;
    z-index: 1040;
}

.sidebar .nav-link {
    color: var(--text-secondary);
    border-radius: 12px;
    padding: 10px 14px;
    display: flex;
    align-items: center;
    gap: 12px;
    transition: background-color 0.2s ease, color 0.2s ease, transform 0.2s ease;
}

.sidebar .nav-link i { font-size: 1.15rem; }

.sidebar .nav-link:hover,
.sidebar .nav-link.active {
    background: rgba(59, 130, 246, 0.18);
    color: var(--text);
    transform: translateX(-4px);
}

html[dir='rtl'] .sidebar .nav-link:hover,
html[dir='rtl'] .sidebar .nav-link.active { transform: translateX(4px); }

.nav-section small { color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.08em; }

.theme-switcher { display: flex; gap: 8px; }

.theme-btn {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    border: 2px solid rgba(255, 255, 255, 0.25);
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.2s ease;
}

.theme-btn.dark-blue { background: linear-gradient(135deg, #1a2942, #0d1829); }
.theme-btn.light { background: linear-gradient(135deg, #e2e8f0, #f8fafc); border-color: rgba(15, 23, 42, 0.2); }
.theme-btn.camel-dune { background: linear-gradient(135deg, #d8a368, #b7793f); border-color: rgba(183, 121, 63, 0.45); }
.theme-btn.olive-sage { background: linear-gradient(135deg, #6b8e23, #9acd32); border-color: rgba(45, 51, 25, 0.3); }
.theme-btn.day-blue { background: linear-gradient(135deg, #3b82f6, #1e3a8a); border-color: rgba(30, 58, 138, 0.35); }
.theme-btn:hover { transform: scale(1.08); }
.theme-btn.active { box-shadow: 0 0 0 3px rgba(56, 189, 248, 0.35); }

@keyframes camelDuneDrift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

body[data-theme='camel-dune'] .sidebar,
body[data-theme='camel-dune'] .header,
body[data-theme='camel-dune'] .main-content {
    background: linear-gradient(135deg, rgba(216, 163, 104, 0.12), rgba(251, 241, 220, 0.18)), var(--bg);
    background-size: 200% 200%;
}

body[data-theme='camel-dune'] .main-content { animation: camelDuneDrift 28s ease-in-out infinite; }
body[data-theme='camel-dune'] .header,
body[data-theme='camel-dune'] .sidebar { animation: camelDuneDrift 40s ease-in-out infinite; }

@media (prefers-reduced-motion: reduce) {
    body[data-theme='camel-dune'] .sidebar,
    body[data-theme='camel-dune'] .header,
    body[data-theme='camel-dune'] .main-content {
        animation: none;
        background-size: 100% 100%;
    }
}

.lang-switcher { display: flex; gap: 8px; }

.lang-btn {
    width: 38px;
    height: 38px;
    border-radius: 12px;
    border: 1px solid var(--border-color);
    background: transparent;
    color: var(--text-secondary);
    font-weight: 600;
    transition: background-color 0.2s ease, color 0.2s ease, transform 0.2s ease;
}

.lang-btn:hover,
.lang-btn.active {
    background: var(--primary);
    color: #fff;
    border-color: transparent;
    transform: translateY(-1px);
}

.sidebar-toggle {
    color: var(--text);
    border: none;
    background: transparent;
    font-size: 1.5rem;
}

@media (max-width: 991px) {
    .sidebar {
        transform: translateX(100%);
        transition: transform 0.3s ease;
        width: 260px;
    }

    html[dir='ltr'] .sidebar { right: auto; left: 0; transform: translateX(-100%); }
    html[dir='rtl'] .sidebar { left: auto; right: 0; transform: translateX(100%); }

    .sidebar.open { transform: translateX(0); }

    .main-content { margin-inline-start: 0; }
    .header { padding: 16px 20px; }

        html[dir='ltr'] .main-content,
        html[dir='rtl'] .main-content { margin-left: 0; margin-right: 0; }
}

html[dir='rtl'] .sidebar { right: 0; left: auto; }
html[dir='rtl'] .main-content { margin-right: 280px; margin-left: 0; }
html[dir='ltr'] .sidebar { left: 0; right: auto; }
html[dir='ltr'] .main-content { margin-left: 280px; margin-right: 0; }

/* -------------------------------------------------- */
/* Cards & statistics                                 */
/* -------------------------------------------------- */
.card,
.stats-card {
    background: var(--card-bg);
    color: var(--text);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    box-shadow: var(--shadow-card);
    padding: 24px;
}

.card-theme {
    background: var(--card-bg);
    color: var(--text);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 24px;
    box-shadow: var(--shadow-card);
}

.card { padding: 0; }

.card-header {
    background: transparent;
    border-bottom: 1px solid var(--border-color);
    padding: 20px 24px;
    color: var(--text);
    font-weight: 600;
}

.card-body { padding: 24px; color: var(--text); }

.stats-card {
    display: flex;
    padding: 24px;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
}

.stats-card .icon {
    width: 56px;
    height: 56px;
    border-radius: 18px;
    display: grid;
    place-items: center;
    background: linear-gradient(135deg, var(--primary), var(--primary-600));
    color: #fff;
    box-shadow: 0 10px 25px rgba(37, 99, 235, 0.35);
}

.stats-card p { margin-bottom: 6px; color: var(--text-secondary); font-size: 0.9rem; }
.stats-card h3 { margin-bottom: 0; font-weight: 700; color: var(--text); }
.stats-card small { color: var(--text-secondary); }

/* -------------------------------------------------- */
/* Tables                                             */
/* -------------------------------------------------- */
.table { color: var(--text); border-color: var(--border-color); margin-bottom: 0; }

.table thead th {
    background: var(--table-header-bg);
    color: var(--text);
    border: none;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-size: 0.85rem;
    font-weight: 600;
}

.table tbody td {
    color: var(--text-secondary);
    border-color: rgba(148, 163, 184, 0.16);
    vertical-align: middle;
}

.table tbody tr:hover {
    background: var(--table-row-hover);
    color: var(--text);
}

.table-responsive { border-radius: 16px; overflow: hidden; }

/* -------------------------------------------------- */
/* Forms                                              */
/* -------------------------------------------------- */
.form-label { color: var(--text); font-weight: 500; margin-bottom: 0.35rem; }

.form-control,
.form-select,
textarea.form-control {
    background-color: var(--input-bg);
    color: var(--text);
    border: 1px solid var(--input-border);
    border-radius: 10px;
    transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
}

.form-control::placeholder,
.form-select::placeholder { color: var(--text-secondary); opacity: 0.85; }

.form-control:focus,
.form-select:focus,
textarea.form-control:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 0.25rem var(--input-ring);
    background-color: var(--card-bg);
    background-color: color-mix(in srgb, var(--card-bg) 65%, #ffffff 35%);
    color: var(--text);
}

.form-check-label { color: var(--text-secondary); }

/* -------------------------------------------------- */
/* Buttons                                            */
/* -------------------------------------------------- */
.btn {
    border-radius: 12px;
    font-weight: 600;
    transition: transform 0.15s ease, box-shadow 0.2s ease, background-color 0.2s ease;
}

.btn:active { transform: translateY(1px); }

.btn-primary {
    background-color: var(--primary);
    border-color: var(--primary);
    color: #fff;
}

.btn-primary:hover {
    background-color: var(--primary-600);
    border-color: var(--primary-600);
    box-shadow: 0 8px 20px rgba(37, 99, 235, 0.35);
}

.btn-primary i,
.btn-primary span,
.btn-primary svg,
.btn-primary strong {
    color: #ffffff !important;
}

.btn-success {
    background-color: var(--success);
    border-color: var(--success);
    color: #ffffff;
}

.btn-success:hover {
    background-color: var(--success);
    border-color: var(--success);
    background-color: color-mix(in srgb, var(--success) 85%, #000000 15%);
    border-color: color-mix(in srgb, var(--success) 85%, #000000 15%);
    box-shadow: 0 8px 18px rgba(34, 197, 94, 0.35);
}

.btn-warning {
    background-color: var(--warning);
    border-color: var(--warning);
    color: #ffffff;
}

.btn-warning:hover {
    background-color: var(--warning);
    border-color: var(--warning);
    background-color: color-mix(in srgb, var(--warning) 85%, #000000 15%);
    border-color: color-mix(in srgb, var(--warning) 85%, #000000 15%);
    box-shadow: 0 8px 18px rgba(249, 115, 22, 0.35);
}

.btn-danger {
    background-color: var(--danger);
    border-color: var(--danger);
    color: #ffffff;
}

.btn-danger:hover {
    background-color: var(--danger);
    border-color: var(--danger);
    background-color: color-mix(in srgb, var(--danger) 85%, #000000 15%);
    border-color: color-mix(in srgb, var(--danger) 85%, #000000 15%);
    box-shadow: 0 8px 18px rgba(239, 68, 68, 0.35);
}

.btn-info {
    background-color: var(--info);
    border-color: var(--info);
    color: #ffffff;
}

.btn-info:hover {
    background-color: var(--info);
    border-color: var(--info);
    background-color: color-mix(in srgb, var(--info) 85%, #000000 15%);
    border-color: color-mix(in srgb, var(--info) 85%, #000000 15%);
    box-shadow: 0 8px 18px rgba(14, 165, 233, 0.35);
}

.btn-secondary {
    background-color: rgba(100, 116, 139, 0.85);
    border-color: rgba(100, 116, 139, 0.85);
    color: #ffffff;
}

.btn-secondary:hover {
    background-color: rgba(100, 116, 139, 0.95);
    border-color: rgba(100, 116, 139, 0.95);
    box-shadow: 0 8px 18px rgba(100, 116, 139, 0.35);
}

.btn-success i,
.btn-success span,
.btn-success svg,
.btn-success strong,
.btn-warning i,
.btn-warning span,
.btn-warning svg,
.btn-warning strong,
.btn-danger i,
.btn-danger span,
.btn-danger svg,
.btn-danger strong,
.btn-info i,
.btn-info span,
.btn-info svg,
.btn-info strong,
.btn-secondary i,
.btn-secondary span,
.btn-secondary svg,
.btn-secondary strong {
    color: #ffffff !important;
}

.btn-soft-success { background: rgba(34, 197, 94, 0.18); color: #86efac; border: none; }
.btn-soft-warning { background: rgba(249, 115, 22, 0.18); color: #fb923c; border: none; }
.btn-soft-danger { background: rgba(239, 68, 68, 0.18); color: #fca5a5; border: none; }

/* -------------------------------------------------- */
/* Badges & pills                                     */
/* -------------------------------------------------- */
.badge {
    padding: 0.4rem 0.7rem;
    border-radius: 999px;
    font-weight: 600;
    letter-spacing: 0.02em;
    color: #ffffff;
}

.badge.bg-success,
.badge-success { background-color: var(--success); }
.badge.bg-warning,
.badge-warning { background-color: var(--warning); }
.badge.bg-danger,
.badge-danger { background-color: var(--danger); }
.badge.bg-info,
.badge-info { background-color: var(--info); }
.badge.bg-secondary,
.badge-secondary { background-color: rgba(100, 116, 139, 0.85); }
.badge.bg-primary,
.badge-primary { background-color: var(--primary); }

/* -------------------------------------------------- */
/* Modal refinements                                  */
/* -------------------------------------------------- */
.modal-content {
    background: var(--card-bg);
    color: var(--text);
    border: 1px solid var(--border-color);
    border-radius: 18px;
    box-shadow: var(--shadow-soft);
}

.modal-header {
    background: linear-gradient(135deg, var(--primary), var(--primary-600));
    color: #ffffff;
    border-bottom: 1px solid rgba(255, 255, 255, 0.12);
}

.modal-header .modal-title { font-weight: 600; }

.modal-header .btn-close {
    filter: brightness(0) invert(1);
    opacity: 0.8;
    transition: opacity 0.2s ease;
}

.modal-header .btn-close:hover { opacity: 1; }

.modal-body {
    background: var(--card-bg);
    color: var(--text);
}

.modal-footer {
    background: var(--card-bg);
    border-top: 1px solid var(--border-color);
}

.modal-body .form-control,
.modal-body .form-select { background: var(--input-bg); color: var(--text); }

.modal-body .list-group-item {
    background: var(--card-bg);
    background: color-mix(in srgb, var(--card-bg) 90%, #ffffff 10%);
    color: var(--text);
    border: 1px solid var(--border-color);
}

.modal-body table,
.modal-body table th,
.modal-body table td {
    background: var(--card-bg);
    color: var(--text-secondary);
    border-color: var(--border-color);
}

.modal-body table th { color: var(--text); font-weight: 600; }

.modal-footer .btn-primary { color: #fff; }

/* Alerts */
.alert {
    border-radius: 14px;
    border: 1px solid var(--border-color);
    background: rgba(148, 163, 184, 0.12);
    color: var(--text);
}

.alert-info { border-color: rgba(14, 165, 233, 0.45); background: rgba(14, 165, 233, 0.15); color: var(--alert-info-fg); }
.alert-info .text-muted,
.alert-info small,
.alert-info strong {
    color: var(--alert-info-fg) !important;
}
.alert-success { border-color: rgba(34, 197, 94, 0.45); background: rgba(34, 197, 94, 0.14); color: var(--alert-success-fg); }
.alert-success .text-muted,
.alert-success small,
.alert-success strong {
    color: var(--alert-success-fg) !important;
}
.alert-warning { border-color: rgba(249, 115, 22, 0.4); background: rgba(249, 115, 22, 0.16); color: var(--alert-warning-fg); }
.alert-warning .text-muted,
.alert-warning small,
.alert-warning strong {
    color: var(--alert-warning-fg) !important;
}
.alert-danger { border-color: rgba(239, 68, 68, 0.45); background: rgba(239, 68, 68, 0.18); color: var(--alert-danger-fg); }
.alert-danger .text-muted,
.alert-danger small,
.alert-danger strong {
    color: var(--alert-danger-fg) !important;
}

html[data-theme='light'] .alert { color: var(--text); }

/* -------------------------------------------------- */
/* Login layout                                       */
/* -------------------------------------------------- */
.login-card { background: var(--card-bg); color: var(--text); border-radius: 18px; }
.login-card .form-label { color: var(--text); }
.login-card .form-control { background: var(--input-bg); color: var(--text); border-color: var(--input-border); }
.login-card .form-control:focus { border-color: var(--primary); box-shadow: 0 0 0 0.25rem var(--input-ring); }
.login-card .text-muted { color: var(--text-secondary) !important; }
.login-card .form-control::placeholder { color: var(--text-secondary); opacity: 0.9; }

/* -------------------------------------------------- */
/* Misc utilities                                     */
/* -------------------------------------------------- */
.dropdown-menu { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 0.5rem 0; }
.dropdown-item { color: var(--text-secondary); }
.dropdown-item:hover { background: rgba(59, 130, 246, 0.15); color: var(--text); }

.table-borderless > :not(caption) > * > * { border-bottom-width: 0; }

.shadow-soft { box-shadow: var(--shadow-soft); }

.text-muted { color: var(--text-secondary) !important; }
.text-success { color: var(--success) !important; }
.text-warning { color: var(--warning) !important; }
.text-danger { color: var(--danger) !important; }
.text-info { color: var(--info) !important; }

/* Ensure sticky header stays above content */
.header { box-shadow: 0 1px 0 rgba(148, 163, 184, 0.12); }

/* Footer Styles */
.app-footer {
    background: var(--card-bg);
    border-top: 1px solid var(--border-color);
    margin-top: auto;
    font-size: 0.875rem;
}

.app-footer p {
    margin-bottom: 0;
}

.app-footer strong {
    color: var(--accent-color);
    font-weight: 600;
}

.app-footer i {
    margin-left: 0.25rem;
}

/* Sidebar Footer */
.sidebar-footer {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--card-bg);
    border-top: 1px solid var(--border-color);
    padding: 0;
}

.sidebar-footer p {
    line-height: 1.4;
}

.sidebar-footer i {
    font-size: 10px;
}
