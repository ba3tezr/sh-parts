# ุฅุนุฏุงุฏ ุงููุธุงู ููุณูู ุงููุตุฑู
## ุฏููู ุงูุชุฎุตูุต ูุงูุนููุงุช ุงููุชุนุฏุฏุฉ

---

## โจ ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ุฏุนู ุงูุนููุงุช ุงููุชุนุฏุฏุฉ
ุงููุธุงู ุงูุขู ูุฏุนู 5 ุนููุงุช ุฑุฆูุณูุฉ:
- ๐ช๐ฌ **ุงูุฌููู ุงููุตุฑู (EGP)** - ุงูุงูุชุฑุงุถู
- ๐ธ๐ฆ ุงูุฑูุงู ุงูุณุนูุฏู (SAR)
- ๐ฆ๐ช ุงูุฏุฑูู ุงูุฅูุงุฑุงุชู (AED)
- ๐บ๐ธ ุงูุฏููุงุฑ ุงูุฃูุฑููู (USD)
- ๐ช๐บ ุงูููุฑู (EUR)

### 2. ุฅุนุฏุงุฏุงุช ูุฑูุฉ ููุถุฑุงุฆุจ
- ุฅููุงููุฉ ุชูุนูู/ุชุนุทูู ุงูุถุฑุงุฆุจ
- ุชุญุฏูุฏ ูุณุจุฉ ุงูุถุฑูุจุฉ (ูุซู: 14% ูู ูุตุฑุ 15% ูู ุงูุณุนูุฏูุฉ)
- ุฅุถุงูุฉ ุงูุฑูู ุงูุถุฑูุจู ููุดุฑูุฉ

### 3. ุชุฎุตูุต ูุนูููุงุช ุงูุดุฑูุฉ
- ุงุณู ุงูุดุฑูุฉ (ุนุฑุจู ูุฅูุฌููุฒู)
- ูุนูููุงุช ุงูุงุชุตุงู (ูุงุชูุ ุจุฑูุฏุ ุนููุงู)
- ุงููุฏููุฉ ูุงูุฏููุฉ

### 4. ุฅุนุฏุงุฏุงุช ุฅูููููุฉ
- ุงุฎุชูุงุฑ ุงูููุทูุฉ ุงูุฒูููุฉ
- ุงุฎุชูุงุฑ ุงููุบุฉ ุงูุงูุชุฑุงุถูุฉ
- ุชูุณูู ุงูุชูุงุฑูุฎ ูุงูุฃุฑูุงู ุญุณุจ ุงูููุทูุฉ

---

## ๐ ุงูุจุฏุก ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุชุทุจูู ุงูุชูุฌูุฑุงุช
```bash
cd "/home/zakee/shalah projevt"
source venv/bin/activate
python manage.py migrate
```

### ุงูุฎุทูุฉ 2: ุชููุฆุฉ ุงูุฅุนุฏุงุฏุงุช ููุณูู ุงููุตุฑู
```bash
python manage.py init_settings
```

ุณูุชู ุชููุงุฆูุงู:
- โ ุชุนููู ุงูุนููุฉ: ุงูุฌููู ุงููุตุฑู (EGP)
- โ ุชุนููู ุงูุถุฑูุจุฉ: 14%
- โ ุชุนููู ุงูููุทูุฉ ุงูุฒูููุฉ: Africa/Cairo
- โ ุชุนููู ุงูุฏููุฉ: ูุตุฑ

### ุงูุฎุทูุฉ 3: ุชุดุบูู ุงููุธุงู
```bash
python manage.py runserver
```

---

## โ๏ธ ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช

### ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ (ุงูุทุฑููุฉ ุงูููุตู ุจูุง)

1. **ุงูุฏุฎูู ูููุญุฉ ุงูุฅุฏุงุฑุฉ**
   ```
   http://localhost:8000/admin/
   ```

2. **ุงูุฐูุงุจ ุฅูู "ุฅุนุฏุงุฏุงุช ุงููุธุงู"**
   - ุณุชุฌุฏ ูุณู "Core" โ "ุฅุนุฏุงุฏุงุช ุงููุธุงู"
   - ุงุถุบุท ุนูู ุงูุฅุนุฏุงุฏุงุช ุงูููุฌูุฏุฉ (ูุง ูููู ุฅูุดุงุก ุฃูุซุฑ ูู ุฅุนุฏุงุฏ ูุงุญุฏ)

3. **ุชุบููุฑ ุงูุนููุฉ**
   - ูู ูุณู "ุฅุนุฏุงุฏุงุช ุงูุนููุฉ ูุงูููุทูุฉ"
   - ุงุฎุชุฑ ุงูุนููุฉ ุงููุทููุจุฉ ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
   - ุงุญูุธ ุงูุชุบููุฑุงุช

4. **ุชุญุฏูุซ ูุนูููุงุช ุงูุดุฑูุฉ**
   - ุงุณู ุงูุดุฑูุฉ ุจุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
   - ูุนูููุงุช ุงูุงุชุตุงู
   - ุงูุนููุงู ูุงููุฏููุฉ

5. **ุฅุนุฏุงุฏุงุช ุงูุถุฑุงุฆุจ**
   - ุชูุนูู/ุชุนุทูู ุงูุถุฑูุจุฉ
   - ูุณุจุฉ ุงูุถุฑูุจุฉ (%)
   - ุงูุฑูู ุงูุถุฑูุจู

### ุจุฑูุฌูุงู (ูููุทูุฑูู)

```python
from core.models import SystemSettings

# ุงูุญุตูู ุนูู ุงูุฅุนุฏุงุฏุงุช
settings = SystemSettings.get_settings()

# ุชุบููุฑ ุงูุนููุฉ
settings.currency = 'SAR'  # ุฃู 'EGP', 'AED', 'USD', 'EUR'
settings.save()

# ุชุบููุฑ ูุณุจุฉ ุงูุถุฑูุจุฉ
settings.tax_rate = 15.00  # 15%
settings.save()

# ุงูุญุตูู ุนูู ุฑูุฒ ุงูุนููุฉ
print(settings.currency_symbol)  # ูุซุงู: ุฌ.ู

# ุงูุญุตูู ุนูู ุงุณู ุงูุนููุฉ
print(settings.currency_name)  # ูุซุงู: ุงูุฌููู ุงููุตุฑู - Egyptian Pound (EGP)
```

---

## ๐ ููู ูุนูู ุงููุธุงู

### ุชุทุจูู ุงูุนููุฉ ูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ

ูุชู ุชุญููู ุฅุนุฏุงุฏุงุช ุงูุนููุฉ ุชููุงุฆูุงู ุนูุฏ ูุชุญ ุฃู ุตูุญุฉ:

```javascript
// ูู JavaScript
const settings = app.getSettings();
console.log(settings.currency);        // 'EGP'
console.log(settings.currency_symbol); // 'ุฌ.ู'

// ุชูุณูู ุงูุฃุฑูุงู
app.formatCurrency(1500.50);  // '1,500.50 ุฌ.ู'
```

### ุชุทุจูู ุงูุนููุฉ ูู ุงูููุงูุจ (Templates)

```django
<!-- ูู HTML/Django -->
{{ system_settings.currency }}         <!-- EGP -->
{{ currency_symbol }}                  <!-- ุฌ.ู -->
{{ system_settings.currency_name }}    <!-- ุงูุฌููู ุงููุตุฑู -->
```

### ุชุทุจูู ุงูุนููุฉ ูู API

```python
# ูู Views/Serializers
from core.models import SystemSettings

settings = SystemSettings.get_settings()
currency = settings.currency
currency_symbol = settings.currency_symbol
```

---

## ๐ ููุงุฐุฌ ุงูุถุฑูุจุฉ ุญุณุจ ุงูุฏููุฉ

| ุงูุฏููุฉ | ูุณุจุฉ ุงูุถุฑูุจุฉ | ููุฏ ุงูุนููุฉ |
|--------|--------------|------------|
| ๐ช๐ฌ ูุตุฑ | 14% | EGP |
| ๐ธ๐ฆ ุงูุณุนูุฏูุฉ | 15% | SAR |
| ๐ฆ๐ช ุงูุฅูุงุฑุงุช | 5% | AED |
| ๐ฏ๐ด ุงูุฃุฑุฏู | 16% | JOD |
| ๐ฐ๐ผ ุงููููุช | 0% | KWD |

---

## ๐ง ุฅุถุงูุฉ ุนููุงุช ุฌุฏูุฏุฉ

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ุงูููุฏูู

ูู `core/models.py`:

```python
CURRENCY_CHOICES = [
    ('EGP', 'ุงูุฌููู ุงููุตุฑู - Egyptian Pound (EGP)'),
    ('SAR', 'ุงูุฑูุงู ุงูุณุนูุฏู - Saudi Riyal (SAR)'),
    # ุฃุถู ุนููุฉ ุฌุฏูุฏุฉ
    ('JOD', 'ุงูุฏููุงุฑ ุงูุฃุฑุฏูู - Jordanian Dinar (JOD)'),
]

CURRENCY_SYMBOLS = {
    'EGP': 'ุฌ.ู',
    'SAR': 'ุฑ.ุณ',
    # ุฃุถู ุฑูุฒ ุงูุนููุฉ
    'JOD': 'ุฏ.ุฃ',
}
```

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก ูุชุทุจูู ุงูุชูุฌูุฑ

```bash
python manage.py makemigrations
python manage.py migrate
```

### ุงูุฎุทูุฉ 3: ุชุญุฏูุซ ุงูุชุฑุฌูุงุช

ูู `static/js/translations/ar.json`:

```json
{
  "currency_jod": "ุงูุฏููุงุฑ ุงูุฃุฑุฏูู"
}
```

---

## ๐ฑ ุงุณุชุฎุฏุงู ุงูุนููุฉ ูู ุงูููุงุชูุฑ

ุนูุฏ ุฅูุดุงุก ูุงุชูุฑุฉุ ุณูุชู ุงุณุชุฎุฏุงู ุงูุนููุฉ ุงููุญุฏุฏุฉ ุชููุงุฆูุงู:

```python
# ูุซุงู ูู models.py ูููุจูุนุงุช
from core.models import SystemSettings

class Sale(models.Model):
    # ...
    
    def get_currency_display(self):
        settings = SystemSettings.get_settings()
        return settings.currency_symbol
    
    def get_total_with_tax(self):
        settings = SystemSettings.get_settings()
        if settings.tax_enabled:
            tax_amount = self.subtotal * (settings.tax_rate / 100)
            return self.subtotal + tax_amount
        return self.subtotal
```

---

## ๐ ุงูุชุฎุตูุต ูุฃุณูุงู ุฃุฎุฑู

### ููุณูู ุงูุณุนูุฏู

```bash
# ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ:
# 1. ุงูุนููุฉ: SAR
# 2. ุงูุถุฑูุจุฉ: 15%
# 3. ุงูููุทูุฉ ุงูุฒูููุฉ: Asia/Riyadh
# 4. ุงูุฏููุฉ: ุงูุณุนูุฏูุฉ
```

### ููุณูู ุงูุฅูุงุฑุงุชู

```bash
# ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ:
# 1. ุงูุนููุฉ: AED
# 2. ุงูุถุฑูุจุฉ: 5%
# 3. ุงูููุทูุฉ ุงูุฒูููุฉ: Asia/Dubai
# 4. ุงูุฏููุฉ: ุงูุฅูุงุฑุงุช
```

---

## ๐ ุงููุงุด ูุงูุฃุฏุงุก

ุงูุฅุนุฏุงุฏุงุช ูุชู ุชุฎุฒูููุง ูู ุงููุงุด (Cache) ููุฏุฉ ุณุงุนุฉ ูุชุญุณูู ุงูุฃุฏุงุก:

```python
# ูุณุญ ุงููุงุด ูุฏููุงู
from django.core.cache import cache
cache.delete('system_settings')

# ุฃู ูู Django shell
python manage.py shell
>>> from core.models import SystemSettings
>>> SystemSettings.get_settings()  # ุฌูุจ ูู ุงููุงุด
>>> # ุชุญุฏูุซ ุงูุฅุนุฏุงุฏุงุช ููุณุญ ุงููุงุด ุชููุงุฆูุงู
```

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุนููุฉ ูุง ุชุธูุฑ ุตุญูุญุฉ ูู ุงููุงุฌูุฉ

1. **ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ** (Ctrl+F5)
2. **ุงูุญุต console ูู ุงููุชุตูุญ**:
   ```javascript
   app.getSettings()  // ูุฌุจ ุฃู ูุนุฑุถ ุงูุนููุฉ ุงูุตุญูุญุฉ
   ```
3. **ุชุฃูุฏ ูู ุชุทุจูู ุงูุชูุฌูุฑุงุช**:
   ```bash
   python manage.py migrate
   ```

### ุงูุฅุนุฏุงุฏุงุช ูุง ุชุญูุธ

1. **ุชุฃูุฏ ูู ุงูุตูุงุญูุงุช**:
   - ูุฌุจ ุฃู ุชููู ูุณุฌู ุฏุฎูู ูู Admin
   - ุงูุญุต ุตูุงุญูุงุช ุงููุณุชุฎุฏู

2. **ุงูุญุต ุงูุณุฌูุงุช**:
   ```bash
   python manage.py runserver
   # ุดุงูุฏ ุฑุณุงุฆู ุงูุฃุฎุทุงุก ูู Terminal
   ```

---

## ๐ API ููุฅุนุฏุงุฏุงุช

### ุงูุญุตูู ุนูู ุงูุฅุนุฏุงุฏุงุช

```http
GET /api/settings/

Response:
{
    "currency": "EGP",
    "currency_symbol": "ุฌ.ู",
    "currency_name": "ุงูุฌููู ุงููุตุฑู - Egyptian Pound (EGP)",
    "tax_enabled": true,
    "tax_rate": 14.0,
    "default_language": "ar",
    "timezone": "Africa/Cairo",
    "company_name": "SH Parts - ูุทุน ุบูุงุฑ ุงูุณูุงุฑุงุช",
    "company_name_en": "SH Parts - Auto Parts"
}
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู

ุนูุฏ ุฅุนุฏุงุฏ ุงููุธุงู ูุณูู ุฌุฏูุฏ:

- [ ] ุชุดุบูู `python manage.py init_settings`
- [ ] ุชุญุฏูุซ ุงูุนููุฉ ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
- [ ] ุชุญุฏูุซ ูุณุจุฉ ุงูุถุฑูุจุฉ
- [ ] ุชุญุฏูุซ ุงูููุทูุฉ ุงูุฒูููุฉ
- [ ] ุชุญุฏูุซ ูุนูููุงุช ุงูุดุฑูุฉ
- [ ] ุชุญุฏูุซ ุงูุนููุงู ูุงููุฏููุฉ
- [ ] ุงุฎุชุจุงุฑ ุชูุณูู ุงูุนููุฉ ูู ุงููุงุฌูุฉ
- [ ] ุงุฎุชุจุงุฑ ุญุณุงุจุงุช ุงูุถุฑูุจุฉ ูู ุงูููุงุชูุฑ
- [ ] ุชุญุฏูุซ ุงูุชุฑุฌูุงุช ุฅุฐุง ูุฒู ุงูุฃูุฑ

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:

1. ุฑุงุฌุน ููู `DOCUMENTATION_AR.md`
2. ุฑุงุฌุน ููู `DEPLOYMENT_GUIDE.md`
3. ุชูุงุตู ูุน ุงูุฏุนู ุงูููู

---

**ุขุฎุฑ ุชุญุฏูุซ**: 8 ููุงูุฑ 2024
**ุงูุฅุตุฏุงุฑ**: 1.1.0 (ุฏุนู ุงูุนููุงุช ุงููุชุนุฏุฏุฉ)
