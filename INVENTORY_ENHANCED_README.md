# 📦 دليل استخدام نظام المخزون المحسّن

## 🌐 الوصول للنظام

**الرابط:** `http://127.0.0.1:8000/inventory/enhanced/`

---

## 📊 الإحصائيات السريعة

في أعلى الصفحة، ستجد 5 بطاقات إحصائية:

### 1. إجمالي القطع
- عدد جميع القطع في المخزون (بعد التصفية)

### 2. القطع المتوفرة
- عدد القطع المتوفرة للبيع (Status = AVAILABLE)

### 3. القطع منخفضة المخزون
- عدد القطع التي وصلت للحد الأدنى أو أقل
- تظهر بلون أحمر للتنبيه

### 4. قيمة المخزون
- إجمالي قيمة المخزون المتوفر بسعر البيع
- الحساب: `sum(selling_price × quantity)` للقطع المتوفرة

### 5. الربح المتوقع ⭐ (جديد!)
- إجمالي الربح المتوقع من بيع جميع القطع المتوفرة
- الحساب: `sum((selling_price - cost_price) × quantity)`
- يظهر فقط للقطع التي لها سعر كلفة

---

## 🔍 نظام البحث والتصفية

### البحث السريع
- ابحث عن القطع باستخدام:
  - SKU
  - اسم القطعة (عربي أو إنجليزي)
  - الباركود
- البحث فوري (يعمل أثناء الكتابة)

### الفلاتر المتقدمة

#### 1. فلتر الحالة (Status)
- متعدد الاختيار
- الخيارات:
  - ✅ متوفر (AVAILABLE)
  - ⏳ محجوز (RESERVED)
  - ✔️ مباع (SOLD)
  - ❌ تالف (DAMAGED)
  - 🔄 مرتجع (RETURNED)

#### 2. فلتر الحالة (Condition)
- متعدد الاختيار
- الخيارات:
  - 🆕 جديد (NEW)
  - ⭐ مستعمل ممتاز (USED_EXCELLENT)
  - ✅ مستعمل جيد (USED_GOOD)
  - ⚠️ مستعمل مقبول (USED_FAIR)
  - 🔧 مجدد (REFURBISHED)

#### 3. فلتر الفئة
- اختر فئة معينة (محرك، علبة فتيس، إلخ)
- يتم تحميل الفئات من قاعدة البيانات

#### 4. فلتر الموقع
- اختر موقع معين في المستودع
- يتم تحميل المواقع من قاعدة البيانات

#### 5. نطاق السعر
- حدد السعر الأدنى والأعلى
- يطبق على سعر البيع

#### 6. نطاق التاريخ
- حدد تاريخ البداية والنهاية
- يطبق على تاريخ إضافة القطعة

#### 7. الترتيب
- الأحدث أولاً (افتراضي)
- الأقدم أولاً
- السعر (من الأقل)
- السعر (من الأعلى)
- الاسم (أ-ي)
- الاسم (ي-أ)
- الكمية (من الأقل)
- الكمية (من الأكثر)

### الفلاتر النشطة
- تظهر أسفل الفلاتر
- يمكن إزالة أي فلتر بالضغط على ×
- زر "مسح الفلاتر" لإزالة جميع الفلاتر

---

## 👁️ طرق العرض

### 1. عرض البطاقات (Cards View) - الافتراضي

**المميزات:**
- تصميم جذاب وحديث
- سهل القراءة
- يعرض المعلومات الأساسية

**المعلومات المعروضة:**
- SKU (في الأعلى)
- اسم القطعة
- الحالة (Status & Condition)
- الكمية (مع تنبيه إذا كانت منخفضة)
- الموقع
- سعر الكلفة (مشطوب، إن وجد)
- سعر البيع (بارز)
- نسبة الربح (badge أخضر)
- أزرار الإجراءات (عرض، تعديل)

**التصميم:**
- بطاقات بخلفية بيضاء/داكنة (حسب الثيم)
- حدود ملونة عند التمرير
- أنيميشن سلس
- responsive (يتكيف مع حجم الشاشة)

### 2. عرض الجدول (Table View)

**المميزات:**
- عرض تفصيلي
- جميع المعلومات في مكان واحد
- قابل للطباعة

**الأعمدة:**
1. SKU
2. القطعة
3. الفئة
4. الحالة (Condition)
5. الموقع
6. الكمية
7. سعر الكلفة
8. سعر البيع
9. الربح (المبلغ والنسبة)
10. الحالة (Status)
11. إجراءات (عرض، تعديل)

**التصميم:**
- جدول responsive
- ألوان متناسقة
- سهل القراءة
- يخفي عمود الإجراءات عند الطباعة

---

## 📤 أدوات التصدير

### 1. تصدير Excel ✅
- يصدر جميع القطع المعروضة (بعد التصفية)
- الأعمدة:
  - SKU
  - القطعة
  - الحالة
  - الموقع
  - الكمية
  - سعر الكلفة
  - سعر البيع
  - الربح
  - الحالة
  - تاريخ الإضافة
- اسم الملف: `inventory_YYYY-MM-DD.xlsx`

### 2. تصدير PDF ⏳
- قيد التطوير
- سيتم إضافته قريباً

### 3. الطباعة ✅
- يطبع الصفحة الحالية
- يخفي العناصر غير الضرورية:
  - الفلاتر
  - أزرار الإجراءات
  - القوائم الجانبية
- يحافظ على التنسيق

---

## 🎨 الثيمات

النظام يدعم جميع الثيمات المتوفرة:
- 🌙 Dark (الداكن)
- ☀️ Light (الفاتح)
- 🌊 Blue (الأزرق)
- 🌅 Day Blue (الأزرق النهاري)
- 🌲 Green (الأخضر)

**التبديل:**
- اضغط على أيقونة الثيم في الشريط العلوي
- اختر الثيم المفضل
- يتم حفظ الاختيار تلقائياً

---

## ⚡ نصائح للاستخدام الأمثل

### 1. البحث السريع
- استخدم البحث السريع للعثور على قطعة معينة بسرعة
- اكتب جزء من SKU أو اسم القطعة

### 2. التصفية المتقدمة
- استخدم الفلاتر المتعددة معاً للحصول على نتائج دقيقة
- مثال: فئة "محرك" + حالة "متوفر" + سعر من 5000 إلى 10000

### 3. الترتيب
- رتب حسب السعر لمعرفة أغلى/أرخص القطع
- رتب حسب الكمية لمعرفة القطع منخفضة المخزون

### 4. العرض
- استخدم عرض البطاقات للتصفح السريع
- استخدم عرض الجدول للمقارنة التفصيلية

### 5. التصدير
- صدّر إلى Excel لإجراء تحليلات إضافية
- استخدم الطباعة للحصول على نسخة ورقية

---

## 🔧 الإجراءات المتاحة

### 1. عرض التفاصيل 👁️
- اضغط على زر "عرض" (أيقونة العين)
- **الحالة:** قيد التطوير
- **قريباً:** صفحة تفاصيل شاملة تعرض:
  - جميع معلومات القطعة
  - صور القطعة
  - تاريخ الحركات
  - المبيعات السابقة
  - QR Code

### 2. التعديل السريع ✏️
- اضغط على زر "تعديل" (أيقونة القلم)
- **الحالة:** قيد التطوير
- **قريباً:** نافذة تعديل سريع تتيح:
  - تعديل السعر
  - تعديل الكمية
  - تعديل الموقع
  - تعديل الحالة
  - إضافة ملاحظات

---

## 📱 التوافق

### المتصفحات المدعومة:
- ✅ Chrome/Edge (موصى به)
- ✅ Firefox
- ✅ Safari
- ✅ Opera

### الأجهزة المدعومة:
- ✅ Desktop (1920×1080 وأعلى)
- ✅ Laptop (1366×768 وأعلى)
- ✅ Tablet (768×1024)
- ✅ Mobile (375×667 وأعلى)

---

## 🐛 الإبلاغ عن المشاكل

إذا واجهت أي مشكلة:
1. تحقق من Console في المتصفح (F12)
2. التقط screenshot للمشكلة
3. سجل الخطوات التي أدت للمشكلة
4. أبلغ المطور

---

## 📚 المراجع

- [خطة التطوير الكاملة](INVENTORY_DEVELOPMENT_PLAN.md)
- [تقرير التقدم](INVENTORY_PROGRESS.md)
- [ملخص الإصلاحات](FIXES_SUMMARY.md)

---

## 🎉 الميزات القادمة

### قريباً:
- ✨ صفحة تفاصيل القطعة
- ✨ نافذة التعديل السريع
- ✨ تقرير الربحية
- ✨ نظام الجرد
- ✨ لوحة تحكم المخزون

### في المستقبل:
- 🚀 نظام الباركود
- 🚀 تطبيق موبايل
- 🚀 تنبيهات ذكية
- 🚀 تكامل مع نظام الشراء

---

**آخر تحديث:** 14 أكتوبر 2025  
**الإصدار:** 1.0.0  
**الحالة:** جاهز للاستخدام ✅

